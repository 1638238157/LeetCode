<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function LinkedList(){
            // 链表头
            let head = null;
            // 链表长度
            let length = 0;
            // 辅助类
            function Node(element){
                this.element = element;
                this.next = null;
            }
            // 链表尾部添加元素
            this.append = function (element){
                let node = new Node(element);
                if(head === null){
                    head = node;
                }else{
                    let current = head;
                    while(current.next){
                        current = current.next;
                    }
                    // while循环执行完成之后，current已经是链表最后一项了
                    current.next = node;
                }
                length ++;
            }
            // 链表某一个位置添加元素
            this.insert = function (position,element){
                let node = new Node(element);
                if(position > -1 && position < length){
                    if(position == 0){
                        let current = head;
                        head = node;
                        head.next = current;
                    }else {
                        let index = 0,current = head,previous = null;
                        while(index < position){
                            previous = current;
                            current = current.next;
                            index ++;
                        }
                        node.next = current;
                        previous.next = node;
                    }
                    length ++;
                }
            }
            // 删除链表某一个元素
            this.removeAt = function (position){
                if(position > -1 && position < length){
                    let current;
                    if(position == 0){
                        current = head;
                        head = current.next;
                    }else{
                        current = head
                        let index = 0,previous = null;
                        while(index < position){
                            previous = current;
                            current = current.next;
                            index++;
                        }
                        previous.next = current.next
                    }
                    length --;
                    return current
                }
                return null;
            }
            this.indexOf = function(element){
                let current = head;
                let index = 0;
                while(current){
                    if(element === current.element){
                        return index;
                    }
                    index ++;
                    current = current.next;
                }
                return -1;
            }
            this.remove = function(element){
                return this.removeAt(this.indexOf(element))
            }
            this.isEmpty = function(){
                return length === 0;
            }
            this.size = function (){
                return length;
            }
            //获取head
            this.getHead = function (){
                return head;
            }
        }
        let l = new LinkedList();
        l.append(1);
        l.append(2);
        l.append(3);
        l.insert(2,10);
        // l.insert(0,0);
    </script>
</body>
</html>